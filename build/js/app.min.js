/* globals WOW, jRespond, Headhesive */
!function($) {
    "use strict";
    $(document).ready(function() {
        function fnNavTgl() {
            return "0" === navTgl ? ($(".navigation").slideDown(), $(".nav-toggle > i").removeClass("fa-bars"), 
            $(".nav-toggle > i").addClass("fa-close"), navTgl = "1") : "1" === navTgl ? ($(".navigation").slideUp(), 
            $(".nav-toggle > i").removeClass("fa-close"), $(".nav-toggle > i").addClass("fa-bars"), 
            navTgl = "0") : void 0;
        }
        function fullBanner() {
            var ww = $(window).height();
            $(".full-banner").each(function() {
                var bgImg = $(this).attr("data-src");
                $(this).css({
                    height: ww + "px",
                    "background-image": "url(" + bgImg + ")"
                });
            });
        }
        // Menu
        $(".menu").slicknav({
            prependTo: ".mobile-menu",
            label: "",
            closedSymbol: "&#xf054;",
            openedSymbol: "&#xf078;"
        });
        var wow = new WOW({
            boxClass: "wow",
            // animated element css class (default is wow)
            animateClass: "animated",
            // animation css class (default is animated)
            offset: 0,
            // distance to the element when triggering the animation (default is 0)
            mobile: !1,
            // trigger animations on mobile devices (default is true)
            live: !0
        });
        wow.init(), // scroll up
        $.scrollUp({
            scrollName: "scrollUp",
            // Element ID
            topDistance: "300",
            // Distance from top before showing element (px)
            topSpeed: 300,
            // Speed back to top (ms)
            animation: "fade",
            // Fade, slide, none
            animationInSpeed: 200,
            // Animation in speed (ms)
            animationOutSpeed: 200,
            // Animation out speed (ms)
            scrollText: '<i class="fa fa-angle-up"></i>',
            // Text for element
            activeOverlay: !1
        }), /*===jQuery Animated Number===*/
        /*===Appear===*/
        $(".number-animate").appear(), $(document.body).on("appear", ".numeric-count", function() {
            $(".number-animate").each(function() {
                var self = $(this);
                self.animateNumbers(self.data("value"), !0, parseInt(self.data("animation-duration")));
            });
        }), $.fn.animateNumbers = function(stop, commas, duration, ease) {
            return this.each(function() {
                var $this = $(this), start = parseInt($this.text().replace(/,/g, ""));
                commas = void 0 === commas ? !0 : commas, $({
                    value: start
                }).animate({
                    value: stop
                }, {
                    duration: void 0 === duration ? 500 : duration,
                    easing: void 0 === ease ? "swing" : ease,
                    step: function() {
                        $this.text(Math.floor(this.value)), commas && $this.text($this.text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
                    },
                    complete: function() {
                        parseInt($this.text()) !== stop && ($this.text(stop), commas && $this.text($this.text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")));
                    }
                });
            });
        };
        // Expand Toggle
        var navTgl = "0";
        $(".nav-toggle").on("click", function(e) {
            e.preventDefault(), fnNavTgl();
        }), fullBanner(), $(window).smartresize(function() {
            fullBanner();
        });
        var jRes = jRespond([ {
            label: "tablet",
            enter: 0,
            exit: 800
        }, {
            label: "desktop",
            enter: 801,
            exit: 1e5
        } ]);
        jRes.addFunc([ {
            breakpoint: "tablet",
            enter: function() {
                $(".page-nav").onePageNav({
                    scrollOffset: 40,
                    currentClass: "current",
                    easing: "easeInExpo",
                    filter: ":not(.external)"
                }), $(".slicknav_nav").onePageNav({
                    scrollOffset: 40,
                    currentClass: "current",
                    easing: "easeInExpo",
                    filter: ":not(.external)"
                });
            },
            exit: function() {}
        }, {
            breakpoint: "desktop",
            enter: function() {
                $(".page-nav").onePageNav({
                    scrollOffset: 78,
                    currentClass: "current",
                    easing: "easeInExpo",
                    filter: ":not(.external)"
                }), $(".slicknav_nav").onePageNav({
                    scrollOffset: 78,
                    currentClass: "current",
                    easing: "easeInExpo",
                    filter: ":not(.external)"
                });
            },
            exit: function() {}
        } ]), $(".slicknav_nav li a").on("click", function() {
            $(".slicknav_btn").trigger("click");
        });
        // Set options
        var banner, options = {
            offset: $(window).height() - 78,
            classes: {
                clone: "nav-clone",
                stick: "nav-stick",
                unstick: "nav-unstick"
            }
        };
        banner = new Headhesive(".fixed-banner", options), $(".nav-clone .page-nav").onePageNav({
            scrollOffset: 78,
            currentClass: "current",
            easing: "easeInExpo",
            filter: ":not(.external)"
        }), $(".panel-down").click(function(e) {
            e.preventDefault(), $.scrollTo(".section-objective", 300, {
                easing: "swing"
            });
        }), $(".appear").appear(), /*===SKILL BAR===*/
        $(document.body).on("appear", function() {
            $(".circle-progress").each(function() {
                var barColor = $(this).data("color");
                $(this).easyPieChart({
                    barColor: barColor,
                    trackColor: "#f3f3f3",
                    scaleColor: "#eeeeee",
                    lineWidth: 3,
                    lineCap: "square",
                    // butt, round and square.
                    onStep: function(from, to, percent) {
                        $(this.el).find(".percent").text(Math.round(percent));
                    }
                });
            });
        }), $(".testimonial-carousel").each(function() {
            $(this).owlCarousel({
                navigation: !1,
                pagination: !0,
                mouseDrag: !1,
                //        autoPlay: 3000, //Set AutoPlay to 3 seconds
                items: 1
            });
        }), $(".post-carousel").owlCarousel({
            navigation: !1,
            //        autoPlay: 3000, //Set AutoPlay to 3 seconds
            items: 3,
            itemsDesktop: [ 1199, 3 ],
            itemsDesktopSmall: [ 980, 2 ],
            itemsTablet: [ 768, 2 ],
            itemsTabletSmall: [ 568, 1 ],
            itemsMobile: [ 479, 1 ]
        }), // Bxslider
        $(".bxslider").bxSlider({
            adaptiveHeight: !1,
            mode: "fade",
            pager: !0,
            captions: !0
        }), // Contact form
        $("form").validate({
            submitHandler: function(form) {
                $(form).submit(function(e) {
                    e.preventDefault();
                    var form = $(this), formData = $(form).serialize(), formMessage = $("#form-messages");
                    $.ajax({
                        type: "POST",
                        url: $(form).attr("action"),
                        data: formData
                    }).done(function(response) {
                        // Make sure that the formMessages div has the 'success' class.
                        $(formMessage).removeClass("error"), $(formMessage).addClass("success"), // Set the message text.
                        $(formMessage).text(response), // Clear the form.
                        $("#name").val(""), $("#email").val(""), $("#subject").val(""), $("#comments").val("");
                    }).fail(function(data) {
                        // Make sure that the formMessages div has the 'error' class.
                        $(formMessage).removeClass("success"), $(formMessage).addClass("error"), $(formMessage).text(// Set the message text.
                        "" !== data.responseText ? data.responseText : "Oops! An error occured and your message could not be sent.");
                    });
                });
            }
        });
    });
}(jQuery);